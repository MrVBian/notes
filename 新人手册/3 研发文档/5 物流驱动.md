[TOC]


# 1 机器人小件二次

## 1.1 相机拍照后下发编码器数值

- 请求方式：POST(HTTP)
- URL：http://127.0.0.1:9000/logistic/xxx
- 指令说明：相机拍照时会触发该接口，由builder向物流驱动下发。

- 下发参数

| 下发参数     | 参数类型 | 参数说明   |
| :----------- | :------- | :--------- |
| speed        | float    | 传送带速度 |
| encode_value | int      | 编码器数值 |

- 返回参数

| 返回参数     | 参数类型 | 参数说明   |
| :----------- | :------- | :--------- |
| robot_id     | string   | 机器人Id   |
| encode_value | int      | 编码器数值 |

## 1.2 控制机器人开磁

- 请求方式：POST(HTTP)
- URL：http://127.0.0.1:9000/logistic/xxx
- 指令说明：相机拍照时会触发该接口，由builder向物流驱动下发。

- 下发参数

| 下发参数  | 参数类型 | 参数说明       |
| :-------- | :------- | :------------- |
| robot_id  | string   | 机器人Id       |
| magnetism | bool[64] | 机器人开磁信号 |

- 返回参数

```json
{
	"code": 200,
	"msg": "success",
	"data": {
		"result":0
	}
}
```

| 参数   | 参数类型 | 说明                   | 实例值                         |
| ------ | -------- | ---------------------- | ------------------------------ |
| code   | int      | 返回码                 | 200为接口响应成功；400为失败   |
| msg    | string   | 对返回码的文本描述内容 | 若执行失败，返回的具体错误信息 |
| data   | object   | 含数据结果的对象       | 无                             |
| result | int      | 通知结果               | 0：通知成功；1：失败           |

# 2 地轨机器人约束

- 地轨方向为固定方向；
- 约束机器人位于地轨正方向原点位置，实现虚实同步，该值为固定数值；

# 3 设备到位信号约束

- 输送线构建方向为设备运动正方向(上下分层式的方向一致)；
- 上下移动时，上方向为运动正方形；
- 正方向到位，到位信号为1；负方向到位，到位信号为2