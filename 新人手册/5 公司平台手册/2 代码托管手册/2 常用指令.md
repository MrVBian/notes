[TOC]

git安装教程见：[http://doc.speedbot.net/web/#/6?page_id=50](http://doc.speedbot.net/web/#/6?page_id=50 "http://doc.speedbot.net/web/#/6?page_id=50")

# 1 基础操作

### 1.1 创建新仓库

创建新文件夹，打开，然后执行以下指令，以创建新的 git 仓库

```shell
git init
```

### 1.2 检出仓库

```shell
git clone <url>
```

### 1.3 分支

创建一个叫做“feature/demo”的分支，并切换过去：

```shell
git checkout -b feature/demo
```

切换回主分支：

```shell
git checkout master
```

再把新建的分支删掉：

```shell
git branch -d feature/demo
```

除非你将分支推送到远端仓库，不然该分支就是 *不为他人所见的*：

```shell
git push origin feature/demo
```

### 1.4 添加与提交

你可以计划改动（把它们添加到缓存区），使用如下命令：

```shell
git add <filename>  # 添加指定文件
git add * # 添加当前路径下文件
```

这是 git 基本工作流程的第一步；使用如下命令以实际提交改动：

```shell
git commit -m "代码提交内容概述"`
```

现在，你的改动已经提交到了 **feature/demo**，但是还没到你的远端仓库。

### 1.5 推送改动

你的改动现在已经在本地仓库的 **feature/demo** 中了。执行如下命令以将这些改动提交到远端仓库：

```shell
git push origin feature/demo
```

可以把 *feature/demo* 换成你想要推送的分支。

如果你还没有克隆现有仓库，并欲将你的仓库连接到某个远程服务器，你可以使用如下命令添加：

```shell
git remote add origin <server>
```

# 2	常用指令

### 2.1 本地仓库操作
| 命令                                     | 功能                                                     |
| ---------------------------------------- | -------------------------------------------------------- |
| git config –global user.email your_email | 设置git email (必须设置)                                 |
| git config –global user.name your_name   | 设置git name (必须设置)                                  |
| git init                                 | 将目录变为仓库                                           |
| git add FILE                             | 将文件或目录加到缓存区                                   |
| git commit –m “Description”              | 提交更改 并注释做了什么更改                              |
| git status                               | 可以查看当前仓库的状态，是否有变化等                     |
| git diff                                 | 查看文件的不同                                           |
| git diff HEAD~n – file                   | 查看和版本库中的同一个文件有什么不同                     |
| git reset –hard commit_id                | 将工作区恢复到commit_id指定的版本库内的版本              |
| git log                                  | 可以查看提交历史，以便确定要回退到哪个版本               |
| git reflog                               | 查看命令历史，以便确定要回到未来的哪个版本。             |
| git add                                  | 添加到缓存区                                             |
| git commit                               | 提交变更到版本库                                         |
| git checkout – file                      | 可以丢弃工作区的修改（没有– 就是创建一个分支）           |
| git reset HEAD file                      | 放弃缓存区的更改                                         |
| git rm                                   | 然后git commit 删除版本库内的相关文件                    |
| git checkout -b dev                      | 创建并转到新分支dev上                                    |
| git merge dev                            | 合并分支                                                 |
| git branch -d dev                        | 删除分支                                                 |
| git log –graph                           | 查看合并图                                               |
| git stash                                | 可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作： |
| git stash list                           | 查看被存起来的工作                                       |
| git stash pop                            | 恢复并删除stash藏起来的工作                              |
| git tag name                             | 用于新建一个标签，默认为HEAD，也可以指定一个commit id    |
| git tag -a tagname -m “blablabla…”       | 可以指定标签信息；                                       |
| git tag -s tagname -m “blablabla…”       | 可以用PGP签名标签；                                      |
| git tag                                  | 可以查看所有标签。                                       |
| git tag -d                               | 删除一个标签                                             |
| git rebase HEAD~2                        | 合并两个commit                                           |

### 2.2 远程仓库操作
| 命令                                    | 功能                      |
| --------------------------------------- | ------------------------- |
| git add remote origin git@host:repo.git | 建立和远程仓库的连接      |
| git push -u origin master               | 完成远程仓库的创建        |
| git push origin master                  | 用来推送最新修改          |
| git clone                               | 从远程克隆至本机          |
| git remote -v                           | 查看远程库信息            |
| git push –set-upstream gitname develop  | 设置向远程推送的分支      |
| git push origin tagname                 | 在远程产生一个release版本 |
| git push origin :refs/tags/v0.9         | 远程删除标签              |

### 2.3 便捷及美观设置
| 命令                                           |
| ---------------------------------------------- |
| git config –global alias.st status             |
| git config –global alias.co checkout           |
| git config –global alias.ci commit             |
| git config –global alias.br branch             |
| git config –global alias.unstage ‘reset HEAD’  |
| git config –global alias.last ‘log -1’         |
| git config –global alias.lg “log –color –graph |